<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="2. Simple types" href="simple-types.html" /><link rel="prev" title="Smithy specification" href="index.html" />

    <link rel="shortcut icon" href="../_static/favicon.png"/><meta name="generator" content="sphinx-4.2.0, furo 2022.06.21"/>
        <title>1. The Smithy model - Smithy 2.0</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=40978830699223671f4072448e654b5958f38b89" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --admonition-font-size: 100%;
  --admonition-title-font-size: 100%;
  --color-brand-primary: #C44536;
  --color-brand-content: #00808b;
  --color-announcement-background: #711818de;
  --color-announcement-text: #fff;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #282828;
  --color-code-foreground: #dddddd;
  --color-brand-primary: #ed9d13;
  --color-brand-content: #58d3ff;
  --color-announcement-background: #711818de;
  --color-announcement-text: #fff;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #282828;
  --color-code-foreground: #dddddd;
  --color-brand-primary: #ed9d13;
  --color-brand-content: #58d3ff;
  --color-announcement-background: #711818de;
  --color-announcement-text: #fff;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Smithy 2.0</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand centered" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/smithy.svg" alt="Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder=Search name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quick start</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Smithy specification</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">1. The Smithy model</a></li>
<li class="toctree-l2"><a class="reference internal" href="simple-types.html">2. Simple types</a></li>
<li class="toctree-l2"><a class="reference internal" href="aggregate-types.html">3. Aggregate types</a></li>
<li class="toctree-l2"><a class="reference internal" href="service-types.html">4. Service types</a></li>
<li class="toctree-l2"><a class="reference internal" href="mixins.html">5. Mixins</a></li>
<li class="toctree-l2"><a class="reference internal" href="constraint-traits.html">6. Constraint traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="type-refinement-traits.html">7. Type refinement traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="documentation-traits.html">8. Documentation traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="behavior-traits.html">9. Behavior traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="resource-traits.html">10. Resource traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="authentication-traits.html">11. Authentication traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="protocol-traits.html">12. Serialization and Protocol traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="streaming.html">13. Streaming</a></li>
<li class="toctree-l2"><a class="reference internal" href="http-bindings.html">14. HTTP bindings</a></li>
<li class="toctree-l2"><a class="reference internal" href="endpoint-traits.html">15. Endpoint traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="selectors.html">16. Selectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="model-validation.html">17. Model validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="idl.html">18. Smithy IDL</a></li>
<li class="toctree-l2"><a class="reference internal" href="json-ast.html">19. JSON AST</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../trait-index.html">Trait index</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../guides/index.html">Guides</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/smithy-cli/index.html">The Smithy CLI</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/smithy-cli/cli_installation.html">Installation</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/building-models/index.html">Building Smithy Models</a><input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" role="switch" type="checkbox"/><label for="toctree-checkbox-4"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-models/gradle-plugin.html">Smithy Gradle Plugin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-models/build-config.html">smithy-build</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/using-code-generation/index.html">Using Code Generation</a><input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" role="switch" type="checkbox"/><label for="toctree-checkbox-5"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/using-code-generation/update-model.html">Updating the Smithy Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/using-code-generation/generating-a-client.html">Generating a client</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guides/model-linters.html">Model linters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/model-validation-examples.html">Model Validation Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/evolving-models.html">Evolving Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/style-guide.html">Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/converting-to-openapi.html">Converting Smithy to OpenAPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/generating-cloudformation-resources.html">Generating CloudFormation Resource Schemas from Smithy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../guides/migrating-idl-1-to-2.html">Smithy IDL 1.0 to 2.0 Migration Guide</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../guides/building-codegen/index.html">Creating a Smithy Code Generator</a><input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" role="switch" type="checkbox"/><label for="toctree-checkbox-6"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/overview-and-concepts.html">Overview and Concepts</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/mapping-shapes-to-languages.html">Mapping Smithy Shapes to Your Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/creating-codegen-repo.html">Creating a Codegen Repo</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/configuring-the-generator.html">Configuring the Generator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/implementing-the-generator.html">Implementing the Generator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/making-codegen-pluggable.html">Making Codegen Pluggable</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/generating-code.html">Generating Code</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/decoupling-codegen-with-symbols.html">Decoupling Codegen with Symbols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../guides/building-codegen/using-the-semantic-model.html">Using the Semantic Model</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../guides/glossary.html">Glossary</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../additional-specs/index.html">Additional specs</a><input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" role="switch" type="checkbox"/><label for="toctree-checkbox-7"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../additional-specs/http-protocol-compliance-tests.html">HTTP Protocol Compliance Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../additional-specs/waiters.html">Waiters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../additional-specs/mqtt.html">MQTT Protocol Bindings</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../aws/index.html">AWS integrations</a><input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" role="switch" type="checkbox"/><label for="toctree-checkbox-8"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../aws/aws-core.html">AWS Core Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/aws-auth.html">AWS Authentication Traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/aws-iam.html">AWS IAM traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/amazon-apigateway.html">Amazon API Gateway traits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../aws/aws-cloudformation.html">AWS CloudFormation Traits</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../aws/protocols/index.html">AWS Protocols</a><input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" role="switch" type="checkbox"/><label for="toctree-checkbox-9"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../aws/protocols/aws-restjson1-protocol.html">AWS restJson1 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/protocols/aws-json-1_0-protocol.html">AWS JSON 1.0 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/protocols/aws-json-1_1-protocol.html">AWS JSON 1.1 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/protocols/aws-restxml-protocol.html">AWS restXml protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/protocols/aws-query-protocol.html">AWS query protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/protocols/aws-ec2-query-protocol.html">AWS EC2 query protocol</a></li>
</ul>
</li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../aws/customizations/index.html">AWS Service Customizations</a><input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" role="switch" type="checkbox"/><label for="toctree-checkbox-10"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../aws/customizations/apigateway-customizations.html">Amazon API Gateway Customizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/customizations/glacier-customizations.html">Amazon Glacier Customizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/customizations/machinelearning-customizations.html">Amazon Machine Learning Customizations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../aws/customizations/s3-customizations.html">Amazon S3 Customizations</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../ts-ssdk/index.html">Smithy Server Generator for TypeScript</a><input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" role="switch" type="checkbox"/><label for="toctree-checkbox-11"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../ts-ssdk/introduction.html">Introduction to the Smithy Server Generator for TypeScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ts-ssdk/handlers.html">Smithy Server Generator for TypeScript handlers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ts-ssdk/validation.html">Smithy Server Generator for TypeScript validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ts-ssdk/error-handling.html">Smithy Server Generator for TypeScript error handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ts-ssdk/supported-endpoints.html">Smithy Server Generator for TypeScript supported endpoints</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Project</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://github.com/smithy-lang/smithy">Source code</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/smithy-lang/awesome-smithy">Awesome Smithy</a></li>
<li class="toctree-l1"><a class="reference external" href="https://smithy.io/1.0/">1.0 Documentation</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/awslabs/smithy/edit/main/docs/source-2.0/spec/model.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <div class="section" id="the-smithy-model">
<span id="smithy-model"></span><h1><span class="section-number">1. </span>The Smithy model<a class="headerlink" href="#the-smithy-model" title="Permalink to this headline">#</a></h1>
<p>The <em>Smithy model</em> describes the Smithy semantic model and the files used to
create it. Smithy models are used to describe services and data structures.</p>
<div class="section" id="smithy-overview">
<span id="id1"></span><h2><span class="section-number">1.1. </span>Smithy overview<a class="headerlink" href="#smithy-overview" title="Permalink to this headline">#</a></h2>
<p>Smithy is a framework that consists of a semantic model, file formats used to
define a model, and a build process used to validate models and facilitate
model transformations.</p>
<div class="literal-block-wrapper docutils container" id="figure-1-1">
<div class="code-block-caption"><span class="caption-text"><strong>Figure 1.1</strong>: Smithy framework concepts</span><a class="headerlink" href="#figure-1-1" title="Permalink to this code">#</a></div>
<div class="no-copybutton highlight-none notranslate"><div class="highlight"><pre><span></span>                ┌────────────────┐ part of          ┌────────────────┐
                │                │╲                ╱│                │
                │ Semantic Model │─○──────────────○─│   Model File   │
                │                │╱                ╲│                │
                └────────────────┘                  └────────────────┘
                                           split into       ╲│╱
                                                             ○
                                                             │
                ┌────────────────┐                           ┼
                │JSON AST (.json)│────────┐         ┌────────────────┐
                └────────────────┘        │         │                │
                                          ├────────▷│ Representation │
                ┌────────────────┐        │         │                │
                │ IDL (.smithy)  │────────┘         └────────────────┘
                └────────────────┘
</pre></div>
</div>
</div>
<dl class="docutils">
<dt>Semantic model</dt><dd>The in-memory model used by tools. The <a class="reference internal" href="#semantic-model"><span class="std std-ref">semantic model</span></a>
may be serialized into one or more model file representations.</dd>
</dl>
<dl class="docutils" id="model-files">
<dt>Model File</dt><dd><p>A file on the file system, in a particular representation. The model files
that make up a semantic model MAY be split across multiple files to
improve readability or modularity, and those files are not required to
use the same representation. Model files do not explicitly include other
model files; this responsibility is left to tooling to ensure that all
necessary model files are merged together to form a valid semantic model.</p>
<p>One or more model files can be <a class="reference internal" href="#merging-models"><span class="std std-ref">assembled (or merged)</span></a>
together to form a semantic model.</p>
</dd>
<dt>Representation</dt><dd><p>A particular model file format such as the Smithy IDL or JSON AST.
Representations are loaded into the semantic model by mapping the
representation to concepts in the semantic model.</p>
<ul class="simple">
<li><a class="reference internal" href="idl.html#idl"><span class="std std-ref">Smithy IDL</span></a>: a human-readable format that aims to
streamline authoring and reading models.</li>
<li><a class="reference internal" href="json-ast.html#json-ast"><span class="std std-ref">JSON AST</span></a>: a machine-readable JSON-based format.</li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="the-semantic-model">
<span id="semantic-model"></span><h2><span class="section-number">1.2. </span>The semantic model<a class="headerlink" href="#the-semantic-model" title="Permalink to this headline">#</a></h2>
<p>Smithy's <em>semantic model</em> is an in-memory model used by tools. It is
independent of any particular serialized representation. The semantic
model contains metadata and a graph of shapes connected by shape IDs.</p>
<div class="literal-block-wrapper docutils container" id="figure-1-2">
<div class="code-block-caption"><span class="caption-text"><strong>Figure 1.2</strong>: The semantic model</span><a class="headerlink" href="#figure-1-2" title="Permalink to this code">#</a></div>
<div class="no-copybutton highlight-none notranslate"><div class="highlight"><pre><span></span>                                      ┌───────────────┐
                                      │Semantic Model │╲
                                      ├───────────────┤─○────────┐
                                      │metadata?      │╱         │
                                      │               │          │
                                      │               │          │
                                      └───────────────┘          │
                                              ┼     ┼ prelude    │
                                              │     ○────────────┘
                                              ○
                                       shapes╱│╲
    ┌───────────────┐                 ┌───────────────┐
    │ Applied Trait │╲          shape │  «abstract»   │
    ├───────────────┤─○──────────────┼│     Shape     │            ┌───────────────┐
    │               │╱                ├───────────────┤            │    ShapeID    │
    │               │                 │               │            ├───────────────┤
    │               │╲     applied-to │               │         id │namespace      │
    │               │─○──────────────┼│               │┼──────────┼│shape_name     │
    │               │╱traits          │               │            │member_name?   │
    └───────────────┘                 └───────────────┘            └───────────────┘
</pre></div>
</div>
</div>
<dl class="docutils">
<dt>Shape</dt><dd><a class="reference internal" href="#shapes"><span class="std std-ref">Shapes</span></a> are named data definitions that describe the
structure of an API. Shapes are referenced and connected by shape IDs.
Relationships between shapes are formed by <a class="reference internal" href="#member"><span class="std std-ref">members</span></a> that
target other shapes, properties of shapes like the <code class="docutils literal notranslate"><span class="pre">input</span></code> and
<code class="docutils literal notranslate"><span class="pre">output</span></code> properties of an <a class="reference internal" href="service-types.html#operation"><span class="std std-ref">operation</span></a>, and
<a class="reference internal" href="#applying-traits"><span class="std std-ref">applied traits</span></a> that attach a trait to a shape.</dd>
<dt>Shape ID</dt><dd>A <a class="reference internal" href="#shape-id"><span class="std std-ref">shape ID</span></a> is used to identify shapes defined in a
model. For example, <code class="docutils literal notranslate"><span class="pre">smithy.example#MyShape</span></code>,
<code class="docutils literal notranslate"><span class="pre">smithy.example#Foo$bar</span></code>, and <code class="docutils literal notranslate"><span class="pre">Baz</span></code> are all different kinds of shape
IDs.</dd>
<dt>Trait</dt><dd><a class="reference internal" href="#traits"><span class="std std-ref">Traits</span></a> are specialized shapes that form the basis of
Smithy's meta-model. Traits are applied to shapes to associate metadata
to a shape. They are typically used by tools to influence validation,
serialization, and code generation.</dd>
<dt>Applied trait</dt><dd>An applied trait is an instance of a trait applied to a shape, configured
using a <a class="reference internal" href="#node-value"><span class="std std-ref">node value</span></a>.</dd>
<dt>Model metadata</dt><dd><a class="reference internal" href="#metadata"><span class="std std-ref">Metadata</span></a> is a schema-less extensibility mechanism used
to associate metadata to an entire model.</dd>
<dt>Prelude</dt><dd>The <a class="reference internal" href="#prelude"><span class="std std-ref">prelude</span></a> defines various simple shapes and every
trait defined in the core specification. All Smithy models automatically
include the prelude.</dd>
</dl>
</div>
<div class="section" id="model-metadata">
<span id="metadata"></span><h2><span class="section-number">1.3. </span>Model metadata<a class="headerlink" href="#model-metadata" title="Permalink to this headline">#</a></h2>
<p>Metadata is a schema-less extensibility mechanism used to associate
metadata to an entire model. For example, metadata is used to define
<a class="reference internal" href="model-validation.html#validator-definition"><span class="std std-ref">validators</span></a> and model-wide
<a class="reference internal" href="model-validation.html#suppression-definition"><span class="std std-ref">suppressions</span></a>. Metadata is defined
using a <a class="reference internal" href="#node-value"><span class="std std-ref">node value</span></a>. The following example configures
a model validator:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">metadata </span><span class="nc">validators </span><span class="nd">=</span><span class="w"> </span>[
<span class="w">    </span>{
<span class="w">        </span><span class="py">name</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;EmitEachSelector&quot;</span>
<span class="w">        </span><span class="py">id</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;OperationInputName&quot;</span>
<span class="w">        </span><span class="py">message</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This shape is referenced as input but the name does not end with &#39;Input&#39;&quot;</span>
<span class="w">        </span><span class="py">configuration</span><span class="p">:</span><span class="w"> </span>{
<span class="w">            </span><span class="py">selector</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;operation -[input]-&gt; :not([id|name$=Input i])&quot;</span>
<span class="w">        </span>}
<span class="w">    </span>}
]
</pre></div>
</div>
<p class="rubric" id="merging-metadata">Metadata conflicts</p>
<p>When a conflict occurs between top-level metadata key-value pairs,
the following conflict resolution logic is used:</p>
<ol class="arabic simple">
<li>If both values are arrays, the values of both arrays are concatenated
into a single array.</li>
<li>Otherwise, if both values are exactly equal, the conflict is ignored.</li>
<li>Otherwise, the conflict is invalid.</li>
</ol>
<p>Given the following two Smithy models:</p>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text">model-a.smithy</span><a class="headerlink" href="#id13" title="Permalink to this code">#</a></div>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">metadata </span><span class="nc">&quot;foo&quot; </span><span class="nd">=</span><span class="w"> </span>[<span class="s2">&quot;baz&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;bar&quot;</span>]
<span class="kd">metadata </span><span class="nc">&quot;qux&quot; </span><span class="nd">=</span><span class="w"> </span><span class="s2">&quot;test&quot;</span>
<span class="kd">metadata </span><span class="nc">&quot;validConflict&quot; </span><span class="nd">=</span><span class="w"> </span><span class="s2">&quot;hi!&quot;</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text">model-b.smithy</span><a class="headerlink" href="#id14" title="Permalink to this code">#</a></div>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">metadata </span><span class="nc">&quot;foo&quot; </span><span class="nd">=</span><span class="w"> </span>[<span class="s2">&quot;lorem&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ipsum&quot;</span>]
<span class="kd">metadata </span><span class="nc">&quot;lorem&quot; </span><span class="nd">=</span><span class="w"> </span><span class="s2">&quot;ipsum&quot;</span>
<span class="kd">metadata </span><span class="nc">&quot;validConflict&quot; </span><span class="nd">=</span><span class="w"> </span><span class="s2">&quot;hi!&quot;</span>
</pre></div>
</div>
</div>
<p>Merging <code class="docutils literal notranslate"><span class="pre">model-a.smithy</span></code> and <code class="docutils literal notranslate"><span class="pre">model-b.smithy</span></code> produces the following
model:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">metadata </span><span class="nc">&quot;foo&quot; </span><span class="nd">=</span><span class="w"> </span>[<span class="s2">&quot;baz&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;bar&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;lorem&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;ipsum&quot;</span>]
<span class="kd">metadata </span><span class="nc">&quot;qux&quot; </span><span class="nd">=</span><span class="w"> </span><span class="s2">&quot;test&quot;</span>
<span class="kd">metadata </span><span class="nc">&quot;lorem&quot; </span><span class="nd">=</span><span class="w"> </span><span class="s2">&quot;ipsum&quot;</span>
<span class="kd">metadata </span><span class="nc">&quot;validConflict&quot; </span><span class="nd">=</span><span class="w"> </span><span class="s2">&quot;hi!&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="node-values">
<span id="node-value"></span><h2><span class="section-number">1.4. </span>Node values<a class="headerlink" href="#node-values" title="Permalink to this headline">#</a></h2>
<p>Node values are JSON-like values used to define metadata and the value of
an applied trait.</p>
<div class="literal-block-wrapper docutils container" id="figure-1-3">
<div class="code-block-caption"><span class="caption-text"><strong>Figure 1.3</strong>: Node value types</span><a class="headerlink" href="#figure-1-3" title="Permalink to this code">#</a></div>
<div class="no-copybutton highlight-none notranslate"><div class="highlight"><pre><span></span>┌─────────────────┐                     ┌─────────────┐
│ Semantic Model  │                     │Applied Trait│
└─────────────────┘                     └─────────────┘
  │                                            │
  │                                            │
  │                                            ┼ nodeValue
  │                                     ┌─────────────┐
  │                                     │ «abstract»  │
  │                                     │    Value    │
  │metadata                             └─────────────┘
  │                                            △
  ○      ┌───────────────────┬─────────────────┼───────────────┬───────────────┐
  ┼      │                   │                 │               │               │
┌─────────────────┐ ┌─────────────────┐ ┌─────────────┐ ┌─────────────┐ ┌─────────────┐
│     Object      │ │      Array      │ │   Number    │ │   Boolean   │ │   String    │
├─────────────────┤ ├─────────────────┤ └─────────────┘ └─────────────┘ └─────────────┘
│members:         │ │members: [Value] │
│  [String, Value]│ └─────────────────┘
└─────────────────┘
</pre></div>
</div>
</div>
<p>The following example defines <a class="reference internal" href="#metadata"><span class="std std-ref">metadata</span></a> using a node value:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">metadata </span><span class="nc">foo </span><span class="nd">=</span><span class="w"> </span><span class="s2">&quot;hello&quot;</span>
</pre></div>
</div>
<p>The following example defines a <a class="reference internal" href="#traits"><span class="std std-ref">trait</span></a> using a node value:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="nt">@length</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="py">max</span><span class="p">:</span><span class="w"> </span><span class="m">10</span>)
<span class="kd">string </span><span class="nc">MyString</span>
</pre></div>
</div>
<p class="rubric">Node value types</p>
<p>Node values have the same data model as JSON; they consist of the following
kinds of values:</p>
<div class="table-wrapper colwidths-given docutils container">
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>null</td>
<td>The lack of a value</td>
</tr>
<tr class="row-odd"><td>string</td>
<td>A UTF-8 string</td>
</tr>
<tr class="row-even"><td>number</td>
<td>A double precision floating point number</td>
</tr>
<tr class="row-odd"><td>boolean</td>
<td>A Boolean, true or false value</td>
</tr>
<tr class="row-even"><td>array</td>
<td>A list of heterogeneous node values</td>
</tr>
<tr class="row-odd"><td>object</td>
<td>A map of string keys to heterogeneous node values</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="merging-model-files">
<span id="merging-models"></span><h2><span class="section-number">1.5. </span>Merging model files<a class="headerlink" href="#merging-model-files" title="Permalink to this headline">#</a></h2>
<p>Multiple <a class="reference internal" href="#model-files"><span class="std std-ref">model files</span></a> can be used to create a
<a class="reference internal" href="#semantic-model"><span class="std std-ref">semantic model</span></a>. Implementations MUST
take the following steps when merging two or more model files:</p>
<ol class="arabic simple">
<li>Merge the metadata objects of all model files. If top-level metadata
key-value pairs conflict, <a class="reference internal" href="#merging-metadata"><span class="std std-ref">merge the metadata</span></a>
if possible or fail.</li>
<li>Shapes defined in a single model file are added to the semantic model as-is.</li>
<li>Shapes with the same shape ID defined in multiple model files are
reconciled using the following rules:<ol class="arabic">
<li>All conflicting shapes MUST have the same shape type.</li>
<li>Conflicting <a class="reference internal" href="aggregate-types.html#aggregate-types"><span class="std std-ref">aggregate shape types</span></a> MUST contain
the same members that target the same shapes.</li>
<li>Conflicting <a class="reference internal" href="service-types.html#service-types"><span class="std std-ref">service shape types</span></a> MUST contain the
same properties and target the same shapes.</li>
<li>The traits from each shape are treated as if they are defined using
an <a class="reference internal" href="#apply-statements"><span class="std std-ref">apply statement</span></a>: non-conflicting traits are
added to the merged shape, and conflicting traits are resolved through
step (4).</li>
</ol>
</li>
<li>Conflicting traits defined in shape definitions or through apply statements
are reconciled using <a class="reference internal" href="#trait-conflict-resolution"><span class="std std-ref">trait conflict resolution</span></a>.</li>
</ol>
</div>
<div class="section" id="shapes">
<span id="id2"></span><h2><span class="section-number">1.6. </span>Shapes<a class="headerlink" href="#shapes" title="Permalink to this headline">#</a></h2>
<p>Smithy models are made up of shapes. Shapes are named definitions of types.</p>
<p>Shapes are visualized using the following diagram:</p>
<div class="literal-block-wrapper docutils container" id="figure-1-4">
<div class="code-block-caption"><span class="caption-text"><strong>Figure 1.4</strong>: Smithy shapes</span><a class="headerlink" href="#figure-1-4" title="Permalink to this code">#</a></div>
<div class="no-copybutton highlight-none notranslate"><div class="highlight"><pre><span></span>                                  ┌─────────────┐
                         members ╱│ «abstract»  │
                        ┌───────○─│    Shape    │
                        │        ╲│             │
                        │         └─────────────┘
                        │                △
              ┌─────────│────────────────┼────────────────────┐
              │         │                │                    │
      ┌───────────────┐ │         ┌─────────────┐      ┌─────────────┐
      │  «abstract»   │ │container│ «abstract»  │      │ «abstract»  │
      │    Simple     │ └────────┼│  Aggregate  │      │   Service   │
      └───────────────┘           └─────────────┘      └─────────────┘
              △                    △                    △
┌──────────┐  │  ┌──────────┐      │    ┌────────────┐  │    ┌─────────────────────────┐
│blob      │──┼──│boolean   │      ├────│    List    │  │    │         Service         │
└──────────┘  │  └──────────┘      │    ├────────────┤  │    ├─────────────────────────┤
┌──────────┐  │  ┌──────────┐      │    │member      │  │    │version                  │
│document  │──┼──│string    │      │    └────────────┘  ├────│operations: [Operation]? │
└──────────┘  │  └──────────┘      │                    │    │resources: [Resource]?   │
┌──────────┐  │       △            │    ┌────────────┐  │    └─────────────────────────┘
│timestamp │──┤       │            ├────│    Map     │  │    ┌─────────────────────────┐
└──────────┘  │  ┌──────────┐      │    ├────────────┤  │    │        Operation        │
              │  │enum      │      │    │key         │  │    ├─────────────────────────┤
              │  └──────────┘      │    │value       │  │    │input: Structure         │
      ┌───────────────┐            │    └────────────┘  ├────│output: Structure        │
      │  «abstract»   │            │                    |    │errors: [Structure]?     │
      │    Number     │            │    ┌────────────┐  │    └─────────────────────────┘
      └───────────────┘            ├────│ Structure  │  │    ┌─────────────────────────┐
              △                    │    └────────────┘  │    │        Resource         │
┌──────────┐  │  ┌──────────┐      │    ┌────────────┐  │    ├─────────────────────────┤
│float     │──┼──│double    │      └────│   Union    │  │    │identifiers?             │
└──────────┘  │  └──────────┘           └────────────┘  │    │create: Operation?       │
┌──────────┐  │  ┌──────────┐                           │    │put: Operation?          │
│bigInteger│──┼──│bigDecimal│                           │    │read: Operation?         │
└──────────┘  │  └──────────┘                           └────│update: Operation?       │
┌──────────┐  │  ┌──────────┐                                │delete: Operation?       │
│byte      │──┼──│short     │                                │list: : Operation?       │
└──────────┘  │  └──────────┘                                │operations: [Operation]? │
┌──────────┐  │  ┌──────────┐                                │collectionOperations:    │
│integer   │──┴──│long      │                                │    [Operation]?         │
└──────────┘     └──────────┘                                │resources: [Resource]?   │
     △                                                       └─────────────────────────┘
     │
┌──────────┐
│intEnum   │
└──────────┘
</pre></div>
</div>
</div>
<div class="section" id="shape-types">
<h3><span class="section-number">1.6.1. </span>Shape types<a class="headerlink" href="#shape-types" title="Permalink to this headline">#</a></h3>
<p>Shape types are grouped into three categories:</p>
<dl class="docutils">
<dt><a class="reference internal" href="simple-types.html#simple-types"><span class="std std-ref">Simple types</span></a></dt><dd><p>Simple types are types that do not contain nested types or shape references.</p>
<div class="table-wrapper colwidths-given docutils container">
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="simple-types.html#blob"><span class="std std-ref">blob</span></a></td>
<td>Uninterpreted binary data</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="simple-types.html#boolean"><span class="std std-ref">boolean</span></a></td>
<td>Boolean value type</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="simple-types.html#string"><span class="std std-ref">string</span></a></td>
<td>UTF-8 encoded string</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="simple-types.html#enum"><span class="std std-ref">enum</span></a></td>
<td>A string with a fixed set of values.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="simple-types.html#byte"><span class="std std-ref">byte</span></a></td>
<td>8-bit signed integer ranging from -128 to 127 (inclusive)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="simple-types.html#short"><span class="std std-ref">short</span></a></td>
<td>16-bit signed integer ranging from -32,768 to 32,767 (inclusive)</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="simple-types.html#integer"><span class="std std-ref">integer</span></a></td>
<td>32-bit signed integer ranging from -2^31 to (2^31)-1 (inclusive)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="simple-types.html#intenum"><span class="std std-ref">intEnum</span></a></td>
<td>An integer with a fixed set of values.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="simple-types.html#long"><span class="std std-ref">long</span></a></td>
<td>64-bit signed integer ranging from -2^63 to (2^63)-1 (inclusive)</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="simple-types.html#float"><span class="std std-ref">float</span></a></td>
<td>Single precision IEEE-754 floating point number</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="simple-types.html#double"><span class="std std-ref">double</span></a></td>
<td>Double precision IEEE-754 floating point number</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="simple-types.html#biginteger"><span class="std std-ref">bigInteger</span></a></td>
<td>Arbitrarily large signed integer</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="simple-types.html#bigdecimal"><span class="std std-ref">bigDecimal</span></a></td>
<td>Arbitrary precision signed decimal number</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="simple-types.html#timestamp"><span class="std std-ref">timestamp</span></a></td>
<td>An instant in time with no UTC offset or timezone.</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="simple-types.html#document"><span class="std std-ref">document</span></a></td>
<td>Open content that functions as a kind of &quot;any&quot; type.</td>
</tr>
</tbody>
</table>
</div>
</dd>
<dt><a class="reference internal" href="aggregate-types.html#aggregate-types"><span class="std std-ref">Aggregate types</span></a></dt><dd><p>Aggregate types contain configurable member references to others shapes.</p>
<div class="table-wrapper colwidths-given docutils container">
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="aggregate-types.html#list"><span class="std std-ref">List</span></a></td>
<td>Ordered collection of homogeneous values</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="aggregate-types.html#map"><span class="std std-ref">Map</span></a></td>
<td>Map data structure that maps string keys to homogeneous values</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="aggregate-types.html#structure"><span class="std std-ref">Structure</span></a></td>
<td>Fixed set of named heterogeneous members</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="aggregate-types.html#union"><span class="std std-ref">Union</span></a></td>
<td>Tagged union data structure that can take on one of several
different, but fixed, types</td>
</tr>
</tbody>
</table>
</div>
</dd>
<dt><a class="reference internal" href="service-types.html#service-types"><span class="std std-ref">Service types</span></a></dt><dd><p>Types that define the organization and operations of a service.</p>
<div class="table-wrapper colwidths-given docutils container">
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="90%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="service-types.html#service"><span class="std std-ref">service</span></a></td>
<td>Entry point of an API that aggregates resources and operations together</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="service-types.html#operation"><span class="std std-ref">operation</span></a></td>
<td>Represents the input, output, and errors of an API operation</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="service-types.html#resource"><span class="std std-ref">resource</span></a></td>
<td>Entity with an identity that has a set of operations</td>
</tr>
</tbody>
</table>
</div>
</dd>
</dl>
</div>
<div class="section" id="member-shapes">
<span id="member"></span><h3><span class="section-number">1.6.2. </span>Member shapes<a class="headerlink" href="#member-shapes" title="Permalink to this headline">#</a></h3>
<p><em class="dfn">Members</em> are defined in shapes to reference other shapes using
a <a class="reference internal" href="#shape-id"><span class="std std-ref">shape ID</span></a>. Members are found in <a class="reference internal" href="simple-types.html#enum"><span class="std std-ref">enum</span></a>,
<a class="reference internal" href="simple-types.html#intenum"><span class="std std-ref">intEnum</span></a>, <a class="reference internal" href="aggregate-types.html#list"><span class="std std-ref">list</span></a>, <a class="reference internal" href="aggregate-types.html#map"><span class="std std-ref">map</span></a>,
<a class="reference internal" href="aggregate-types.html#structure"><span class="std std-ref">structure</span></a>, and <a class="reference internal" href="aggregate-types.html#union"><span class="std std-ref">union</span></a> shapes. The shape
referenced by a member is called its &quot;target&quot;. A member MUST NOT target a
<a class="reference internal" href="#trait-shapes"><span class="std std-ref">trait</span></a>, <a class="reference internal" href="service-types.html#operation"><span class="std std-ref">operation</span></a>,
<a class="reference internal" href="service-types.html#resource"><span class="std std-ref">resource</span></a>, <a class="reference internal" href="service-types.html#service"><span class="std std-ref">service</span></a>, or <code class="docutils literal notranslate"><span class="pre">member</span></code>.</p>
<p>The following example defines a <a class="reference internal" href="aggregate-types.html#list"><span class="std std-ref">list</span></a>
that contains a member shape. Further examples can be found in the
documentation for <a class="reference internal" href="#shapes"><span class="std std-ref">shape types</span></a>.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">list </span><span class="nc">UserNameList</span><span class="w"> </span>{
<span class="w">    </span><span class="py">member</span><span class="p">:</span><span class="w"> </span><span class="vc">UserName</span>
}
</pre></div>
</div>
</div>
<div class="section" id="shape-id">
<span id="id3"></span><h3><span class="section-number">1.6.3. </span>Shape ID<a class="headerlink" href="#shape-id" title="Permalink to this headline">#</a></h3>
<p>A <em class="dfn">shape ID</em> is used to refer to shapes in the model. All shapes have an
assigned shape ID.</p>
<p>The following example defines a shape in the <code class="docutils literal notranslate"><span class="pre">smithy.example</span></code> namespace named
<code class="docutils literal notranslate"><span class="pre">MyString</span></code>, giving the shape a shape ID of <code class="docutils literal notranslate"><span class="pre">smithy.example#MyString</span></code>:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">string </span><span class="nc">MyString</span>
</pre></div>
</div>
<p>Shape IDs have the following syntax:</p>
<div class="no-copybutton highlight-none notranslate"><div class="highlight"><pre><span></span>smithy.example.foo#ExampleShapeName$memberName
└─────────┬──────┘ └───────┬──────┘ └────┬───┘
     (Namespace)     (Shape name)  (Member name)
                   └──────────────┬────────────┘
                         (Relative shape ID)
└──────────────────────┬───────────────────────┘
              (Absolute shape ID)
</pre></div>
</div>
<dl class="docutils">
<dt>Absolute shape ID</dt><dd>An <em class="dfn">absolute shape ID</em> starts with a <a class="reference internal" href="#grammar-token-smithy-Namespace"><code class="xref std std-token docutils literal notranslate"><span class="pre">namespace</span></code></a>,
followed by &quot;<code class="docutils literal notranslate"><span class="pre">#</span></code>&quot;, followed by a <em>relative shape ID</em>. For example,
<code class="docutils literal notranslate"><span class="pre">smithy.example#Foo</span></code> and <code class="docutils literal notranslate"><span class="pre">smithy.example#Foo$bar</span></code> are absolute shape IDs.</dd>
<dt>Relative shape ID</dt><dd>A <em class="dfn">relative shape ID</em> contains a <a class="reference internal" href="#grammar-token-smithy-Identifier"><code class="xref std std-token docutils literal notranslate"><span class="pre">shape</span> <span class="pre">name</span></code></a>
and an optional <a class="reference internal" href="#grammar-token-smithy-Identifier"><code class="xref std std-token docutils literal notranslate"><span class="pre">member</span> <span class="pre">name</span></code></a>. The shape name and
member name are separated by the &quot;<code class="docutils literal notranslate"><span class="pre">$</span></code>&quot; symbol if a member name is
present. For example, <code class="docutils literal notranslate"><span class="pre">Foo</span></code> and <code class="docutils literal notranslate"><span class="pre">Foo$bar</span></code> are relative shape IDs.</dd>
<dt>Namespace</dt><dd><p>A namespace is a mechanism for logically grouping shapes in a way
that makes them reusable alongside other models without naming
conflicts. A semantic model MAY contain shapes defined across multiple
namespaces. The IDL representation supports zero or one namespace per
model file, while the JSON AST representation supports zero or more
namespaces per model file.</p>
<p>Models SHOULD use a single namespace to model a single logical domain.
Limiting the number of namespaces used to define a logical grouping of
shapes limits the potential for ambiguity if the shapes are used by the
same service or need to be referenced within the same model.</p>
</dd>
<dt>Shape name</dt><dd><p>The name of the shape within a namespace.</p>
<p>Consumers of a Smithy model MAY choose to inflect shape names, structure
member names, and other facets of a Smithy model in order to expose a more
idiomatic experience to particular programming languages. In order to make
this easier for consumers of a model, model authors SHOULD utilize a strict
form of PascalCase in which only the first letter of acronyms,
abbreviations, and initialisms are capitalized. For example, prefer
<code class="docutils literal notranslate"><span class="pre">UserId</span></code> over <code class="docutils literal notranslate"><span class="pre">UserID</span></code>, and <code class="docutils literal notranslate"><span class="pre">Arn</span></code> over <code class="docutils literal notranslate"><span class="pre">ARN</span></code>.</p>
</dd>
<dt>Root shape ID</dt><dd>A <em class="dfn">root shape ID</em> is a shape ID that does not contain a member.
For example, <code class="docutils literal notranslate"><span class="pre">smithy.example#Foo</span></code> and <code class="docutils literal notranslate"><span class="pre">Foo</span></code> are root shape IDs.</dd>
</dl>
<div class="section" id="shape-id-abnf">
<h4><span class="section-number">1.6.3.1. </span>Shape ID ABNF<a class="headerlink" href="#shape-id-abnf" title="Permalink to this headline">#</a></h4>
<p>Shape IDs are formally defined by the following ABNF:</p>
<pre class="productionlist highlight">
<strong id="grammar-token-smithy-ShapeId"><span id="grammar-token-shapeid"></span>ShapeId</strong> =
    <a class="reference internal" href="#grammar-token-smithy-RootShapeId"><code class="xref docutils literal notranslate"><span class="pre">RootShapeId</span></code></a> [<a class="reference internal" href="#grammar-token-smithy-ShapeIdMember"><code class="xref docutils literal notranslate"><span class="pre">ShapeIdMember</span></code></a>]

<strong id="grammar-token-smithy-RootShapeId"><span id="grammar-token-rootshapeid"></span>RootShapeId</strong> =
    <a class="reference internal" href="#grammar-token-smithy-AbsoluteRootShapeId"><code class="xref docutils literal notranslate"><span class="pre">AbsoluteRootShapeId</span></code></a> / <a class="reference internal" href="#grammar-token-smithy-Identifier"><code class="xref docutils literal notranslate"><span class="pre">Identifier</span></code></a>

<strong id="grammar-token-smithy-AbsoluteRootShapeId"><span id="grammar-token-absoluterootshapeid"></span>AbsoluteRootShapeId</strong> =
    <a class="reference internal" href="#grammar-token-smithy-Namespace"><code class="xref docutils literal notranslate"><span class="pre">Namespace</span></code></a> &quot;#&quot; <a class="reference internal" href="#grammar-token-smithy-Identifier"><code class="xref docutils literal notranslate"><span class="pre">Identifier</span></code></a>

<strong id="grammar-token-smithy-Namespace"><span id="grammar-token-namespace"></span>Namespace</strong> =
    <a class="reference internal" href="#grammar-token-smithy-Identifier"><code class="xref docutils literal notranslate"><span class="pre">Identifier</span></code></a> *(&quot;.&quot; <a class="reference internal" href="#grammar-token-smithy-Identifier"><code class="xref docutils literal notranslate"><span class="pre">Identifier</span></code></a>)

<strong id="grammar-token-smithy-Identifier"><span id="grammar-token-identifier"></span>Identifier</strong> =
    <a class="reference internal" href="#grammar-token-smithy-IdentifierStart"><code class="xref docutils literal notranslate"><span class="pre">IdentifierStart</span></code></a> *<a class="reference internal" href="#grammar-token-smithy-IdentifierChars"><code class="xref docutils literal notranslate"><span class="pre">IdentifierChars</span></code></a>

<strong id="grammar-token-smithy-IdentifierStart"><span id="grammar-token-identifierstart"></span>IdentifierStart</strong> =
    (1*&quot;_&quot; (ALPHA / DIGIT)) / ALPHA

<strong id="grammar-token-smithy-IdentifierChars"><span id="grammar-token-identifierchars"></span>IdentifierChars</strong> =
    ALPHA / DIGIT / &quot;_&quot;

<strong id="grammar-token-smithy-ShapeIdMember"><span id="grammar-token-shapeidmember"></span>ShapeIdMember</strong> =
    &quot;$&quot; <a class="reference internal" href="#grammar-token-smithy-Identifier"><code class="xref docutils literal notranslate"><span class="pre">Identifier</span></code></a>
</pre>
</div>
<div class="section" id="shape-id-conflicts">
<span id="id4"></span><h4><span class="section-number">1.6.3.2. </span>Shape ID conflicts<a class="headerlink" href="#shape-id-conflicts" title="Permalink to this headline">#</a></h4>
<p>While shape ID references within the semantic model are case-sensitive, no
two shapes in the semantic model can have the same case-insensitive shape ID.
This restriction makes it easier to use Smithy models for code generation in
programming languages that do not support case-sensitive identifiers or that
perform some kind of normalization on generated identifiers (for example,
a Python code generator might convert all member names to lower snake case).
To illustrate, <code class="docutils literal notranslate"><span class="pre">com.Foo#baz</span></code> and <code class="docutils literal notranslate"><span class="pre">com.foo#BAZ</span></code> are not allowed in the
same semantic model. This restriction also extends to member names:
<code class="docutils literal notranslate"><span class="pre">com.foo#Baz$bar</span></code> and <code class="docutils literal notranslate"><span class="pre">com.foo#Baz$BAR</span></code> are in conflict.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#merging-models"><span class="std std-ref">Merging model files</span></a> for information on how conflicting shape
definitions for the same shape ID are handled when assembling the
semantic model from multiple model files.</p>
</div>
</div>
</div>
</div>
<div class="section" id="traits">
<span id="non-aws-traits"></span><span id="id5"></span><h2><span class="section-number">1.7. </span>Traits<a class="headerlink" href="#traits" title="Permalink to this headline">#</a></h2>
<p><em>Traits</em> are model components that can be attached to <a class="reference internal" href="#shapes"><span class="std std-ref">shapes</span></a>
to describe additional information about the shape; shapes provide the
structure and layout of an API, while traits provide refinement and style.</p>
<div class="section" id="applying-traits">
<span id="id6"></span><h3><span class="section-number">1.7.1. </span>Applying traits<a class="headerlink" href="#applying-traits" title="Permalink to this headline">#</a></h3>
<p>An instance of a trait applied to a shape is called an <em>applied trait</em>. Only
a single instance of a trait can be applied to a shape. The way in which a
trait is applied to a shape depends on the model file representation.</p>
<p>Traits are applied to shapes in the IDL using <a class="reference internal" href="idl.html#grammar-token-smithy-TraitStatements"><code class="xref std std-token docutils literal notranslate"><span class="pre">smithy:TraitStatements</span></code></a> that
immediately precede a shape. The following example applies the
<a class="reference internal" href="constraint-traits.html#length-trait"><span class="std std-ref">length trait</span></a> and <a class="reference internal" href="documentation-traits.html#documentation-trait"><span class="std std-ref">documentation trait</span></a> to <code class="docutils literal notranslate"><span class="pre">MyString</span></code>:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="nt">@length</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="py">max</span><span class="p">:</span><span class="w"> </span><span class="m">100</span>)
<span class="nt">@documentation</span>(<span class="s2">&quot;Contains a string&quot;</span>)
<span class="kd">string </span><span class="nc">MyString</span>
</pre></div>
</div>
<ul class="simple">
<li>Refer to the <a class="reference internal" href="idl.html#idl-applying-traits"><span class="std std-ref">IDL specification</span></a> for a
description of how traits are applied in the IDL.</li>
<li>Refer to the <a class="reference internal" href="json-ast.html#json-ast"><span class="std std-ref">JSON AST specification</span></a> for a
description of how traits are applied in the JSON AST.</li>
</ul>
<p class="rubric">Scope of member traits</p>
<p>Traits that target <a class="reference internal" href="#member"><span class="std std-ref">members</span></a> apply only in the context of
the member shape and do not affect the shape targeted by the member. Traits
applied to a member supersede traits applied to the shape targeted by the
member and do not inherently conflict.</p>
<p>In the following example, the <a class="reference internal" href="constraint-traits.html#range-trait"><span class="std std-ref">range trait</span></a> applied to <code class="docutils literal notranslate"><span class="pre">numberOfItems</span></code>
takes precedence over the trait applied to <code class="docutils literal notranslate"><span class="pre">PositiveInteger</span></code>.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">structure </span><span class="nc">ShoppingCart</span><span class="w"> </span>{
<span class="w">    </span><span class="c">// This trait supersedes the PositiveInteger trait.</span>
<span class="w">    </span><span class="nt">@range</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="py">max</span><span class="p">:</span><span class="m">12</span>)
<span class="w">    </span><span class="py">numberOfItems</span><span class="p">:</span><span class="w"> </span><span class="vc">PositiveInteger</span>
}

<span class="nt">@range</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">1</span>)
<span class="kd">integer </span><span class="nc">PositiveInteger</span>
</pre></div>
</div>
<div class="section" id="applying-traits-externally">
<span id="apply-statements"></span><h4><span class="section-number">1.7.1.1. </span>Applying traits externally<a class="headerlink" href="#applying-traits-externally" title="Permalink to this headline">#</a></h4>
<p>Both the IDL and JSON AST model representations allow traits to be applied
to shapes outside of a shape's definition. This is done using an
<a class="reference internal" href="idl.html#grammar-token-smithy-ApplyStatement"><code class="xref std std-token docutils literal notranslate"><span class="pre">apply</span></code></a> statement in the IDL, or the
<a class="reference internal" href="json-ast.html#ast-apply"><span class="std std-ref">apply</span></a> type in the JSON AST. For example, this can be
useful to allow different teams within the same organization to independently
own different facets of a model; a service team could own the model that
defines the shapes and traits of the API, and a documentation team could
own a model that applies documentation traits to the shapes.</p>
<p>The following example applies the <a class="reference internal" href="documentation-traits.html#documentation-trait"><span class="std std-ref">documentation trait</span></a> and
<a class="reference internal" href="constraint-traits.html#length-trait"><span class="std std-ref">length trait</span></a> to the <code class="docutils literal notranslate"><span class="pre">smithy.example#MyString</span></code> shape:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="kd">apply </span><span class="nc">MyString</span><span class="w"> </span><span class="nt">@documentation</span>(<span class="s2">&quot;This is my string!&quot;</span>)
<span class="kd">apply </span><span class="nc">MyString</span><span class="w"> </span><span class="nt">@length</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="py">max</span><span class="p">:</span><span class="w"> </span><span class="m">10</span>)
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In the semantic model, applying traits outside of a shape definition is
treated exactly the same as applying the trait inside of a shape
definition.</p>
</div>
</div>
<div class="section" id="trait-conflict-resolution">
<span id="id7"></span><h4><span class="section-number">1.7.1.2. </span>Trait conflict resolution<a class="headerlink" href="#trait-conflict-resolution" title="Permalink to this headline">#</a></h4>
<p>Trait conflict resolution is used when the same trait is applied multiple
times to a shape. Duplicate traits applied to shapes are allowed in the
following cases:</p>
<ol class="arabic simple">
<li>If the trait is a <code class="docutils literal notranslate"><span class="pre">list</span></code> or <code class="docutils literal notranslate"><span class="pre">set</span></code> shape, then the conflicting trait
values are concatenated into a single trait value.</li>
<li>If both values are exactly equal, then the conflict is ignored.</li>
</ol>
<p>All other instances of trait collisions are prohibited.</p>
<p>The following model definition is <strong>valid</strong> because the <code class="docutils literal notranslate"><span class="pre">length</span></code> trait is
duplicated on the <code class="docutils literal notranslate"><span class="pre">MyList</span></code> shape with the same values:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="nt">@length</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="py">max</span><span class="p">:</span><span class="w"> </span><span class="m">10</span>)
<span class="kd">list </span><span class="nc">MyList</span><span class="w"> </span>{
<span class="w">    </span><span class="py">member</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}

<span class="kd">apply </span><span class="nc">MyList</span><span class="w"> </span><span class="nt">@length</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="py">max</span><span class="p">:</span><span class="w"> </span><span class="m">10</span>)
</pre></div>
</div>
<p>The following model definition is <strong>valid</strong> because the <code class="docutils literal notranslate"><span class="pre">tags</span></code> trait
is a list. The resulting value assigned to the <code class="docutils literal notranslate"><span class="pre">tags</span></code> trait on the
<code class="docutils literal notranslate"><span class="pre">Hello</span></code> shape is a list that contains &quot;a&quot;, &quot;b&quot;, and &quot;c&quot;.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="nt">@tags</span>([<span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;b&quot;</span>])
<span class="kd">string </span><span class="nc">Hello</span>

<span class="kd">apply </span><span class="nc">Hello</span><span class="w"> </span><span class="nt">@tags</span>([<span class="s2">&quot;c&quot;</span>])
</pre></div>
</div>
<p>The following model definition is <strong>invalid</strong> because the <code class="docutils literal notranslate"><span class="pre">length</span></code> trait is
duplicated on the <code class="docutils literal notranslate"><span class="pre">MyList</span></code> shape with different values:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="nt">@length</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="py">max</span><span class="p">:</span><span class="w"> </span><span class="m">10</span>)
<span class="kd">list </span><span class="nc">MyList</span><span class="w"> </span>{
<span class="w">    </span><span class="py">member</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}

<span class="kd">apply </span><span class="nc">MyList</span><span class="w"> </span><span class="nt">@length</span>(<span class="py">min</span><span class="p">:</span><span class="w"> </span><span class="m">10</span><span class="p">,</span><span class="w"> </span><span class="py">max</span><span class="p">:</span><span class="w"> </span><span class="m">20</span>)
</pre></div>
</div>
</div>
<div class="section" id="trait-node-values">
<span id="id8"></span><h4><span class="section-number">1.7.1.3. </span>Trait node values<a class="headerlink" href="#trait-node-values" title="Permalink to this headline">#</a></h4>
<p>The value provided for a trait MUST be compatible with the <code class="docutils literal notranslate"><span class="pre">shape</span></code> of the
trait. The following table defines each shape type that is available to
target from traits and how their values are defined in
<a class="reference internal" href="idl.html#grammar-token-smithy-NodeValue"><code class="xref std std-token docutils literal notranslate"><span class="pre">node</span></code></a> values.</p>
<div class="table-wrapper colwidths-given docutils container">
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Smithy type</th>
<th class="head">Node type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>blob</td>
<td>string</td>
<td>A <code class="docutils literal notranslate"><span class="pre">string</span></code> value that is base64 encoded.</td>
</tr>
<tr class="row-odd"><td>boolean</td>
<td>boolean</td>
<td>Can be set to <code class="docutils literal notranslate"><span class="pre">true</span></code> or <code class="docutils literal notranslate"><span class="pre">false</span></code>.</td>
</tr>
<tr class="row-even"><td>byte</td>
<td>number</td>
<td>The value MUST fall within the range of -128 to 127</td>
</tr>
<tr class="row-odd"><td>short</td>
<td>number</td>
<td>The value MUST fall within the range of -32,768 to 32,767</td>
</tr>
<tr class="row-even"><td>integer</td>
<td>number</td>
<td>The value MUST fall within the range of -2^31 to (2^31)-1.</td>
</tr>
<tr class="row-odd"><td>long</td>
<td>number</td>
<td>The value MUST fall within the range of -2^63 to (2^63)-1.</td>
</tr>
<tr class="row-even"><td>float</td>
<td>string | number</td>
<td>The value MUST be either a normal JSON number or one of the following
string values: <code class="docutils literal notranslate"><span class="pre">&quot;NaN&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;Infinity&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;-Infinity&quot;</span></code>.</td>
</tr>
<tr class="row-odd"><td>double</td>
<td>string | number</td>
<td>The value MUST be either a normal JSON number or one of the following
string values: <code class="docutils literal notranslate"><span class="pre">&quot;NaN&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;Infinity&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;-Infinity&quot;</span></code>.</td>
</tr>
<tr class="row-even"><td>bigDecimal</td>
<td>string | number</td>
<td>bigDecimal values can be serialized as strings to avoid rounding
issues when parsing a Smithy model in various languages.</td>
</tr>
<tr class="row-odd"><td>bigInteger</td>
<td>string | number</td>
<td>bigInteger values can be serialized as strings to avoid truncation
issues when parsing a Smithy model in various languages.</td>
</tr>
<tr class="row-even"><td>string</td>
<td>string</td>
<td>The provided value SHOULD be compatible with the <code class="docutils literal notranslate"><span class="pre">mediaType</span></code> of the
string shape if present; however, this is not validated by Smithy.</td>
</tr>
<tr class="row-odd"><td>timestamp</td>
<td>number | string</td>
<td>If a number is provided, it represents Unix epoch seconds with optional
millisecond precision. If a string is provided, it MUST be a valid
<span class="target" id="index-0"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc3339.html"><strong>RFC 3339</strong></a> string with optional fractional precision but no UTC offset
(for example, <code class="docutils literal notranslate"><span class="pre">1985-04-12T23:20:50.52Z</span></code>).</td>
</tr>
<tr class="row-even"><td>list</td>
<td>array</td>
<td>Each value in the array MUST be compatible with the targeted member.</td>
</tr>
<tr class="row-odd"><td>map</td>
<td>object</td>
<td>Each key MUST be compatible with the <code class="docutils literal notranslate"><span class="pre">key</span></code> member of the map, and
each value MUST be compatible with the <code class="docutils literal notranslate"><span class="pre">value</span></code> member of the map.</td>
</tr>
<tr class="row-even"><td>structure</td>
<td>object</td>
<td>All members marked as required MUST be provided in a corresponding
key-value pair. Each key MUST correspond to a single member name of
the structure. Each value MUST be compatible with the member that
corresponds to the member name.</td>
</tr>
<tr class="row-odd"><td>union</td>
<td>object</td>
<td>The object MUST contain a single key-value pair. The key MUST be
one of the member names of the union shape, and the value MUST be
compatible with the corresponding shape.</td>
</tr>
</tbody>
</table>
</div>
<p class="rubric">Constraint traits</p>
<p>Trait values MUST be compatible with the <a class="reference internal" href="type-refinement-traits.html#required-trait"><span class="std std-ref">required trait</span></a> and any
associated <a class="reference internal" href="constraint-traits.html"><span class="doc">constraint traits</span></a>.</p>
</div>
</div>
<div class="section" id="defining-traits">
<span id="trait-shapes"></span><span id="id9"></span><h3><span class="section-number">1.7.2. </span>Defining traits<a class="headerlink" href="#defining-traits" title="Permalink to this headline">#</a></h3>
<p>Traits are defined by applying <a class="reference internal" href="#trait-trait"><span class="std std-ref">smithy.api#trait</span></a> to a shape.
This trait can only be applied to simple types and aggregate types.
By convention, trait shape names SHOULD use a lowercase name so that they
visually stand out from normal shapes.</p>
<p>The following example defines a trait with a <a class="reference internal" href="#shape-id"><span class="std std-ref">shape ID</span></a> of
<code class="docutils literal notranslate"><span class="pre">smithy.example#myTraitName</span></code> and applies it to <code class="docutils literal notranslate"><span class="pre">smithy.example#MyString</span></code>:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="nt">@trait</span>(<span class="py">selector</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;*&quot;</span>)
<span class="kd">structure </span><span class="nc">myTraitName</span><span class="w"> </span>{}

<span class="nt">@myTraitName</span>
<span class="kd">string </span><span class="nc">MyString</span>
</pre></div>
</div>
<p>The following example defines two custom traits: <code class="docutils literal notranslate"><span class="pre">beta</span></code> and
<code class="docutils literal notranslate"><span class="pre">structuredTrait</span></code>:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="c">/// A trait that can be applied to a member.</span>
<span class="nt">@trait</span>(<span class="py">selector</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;structure &gt; member&quot;</span>)
<span class="kd">structure </span><span class="nc">beta</span><span class="w"> </span>{}

<span class="c">/// A trait that has members.</span>
<span class="nt">@trait</span>(<span class="py">selector</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span><span class="w"> </span><span class="py">conflicts</span><span class="p">:</span><span class="w"> </span>[<span class="vc">beta</span>])
<span class="kd">structure </span><span class="nc">structuredTrait</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">lorem</span><span class="p">:</span><span class="w"> </span><span class="vc">StringShape</span>

<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="py">ipsum</span><span class="p">:</span><span class="w"> </span><span class="vc">StringShape</span>

<span class="w">    </span><span class="py">dolor</span><span class="p">:</span><span class="w"> </span><span class="vc">StringShape</span>
}

<span class="c">// Apply the &quot;beta&quot; trait to the &quot;foo&quot; member.</span>
<span class="kd">structure </span><span class="nc">MyShape</span><span class="w"> </span>{
<span class="w">    </span><span class="nt">@required</span>
<span class="w">    </span><span class="nt">@beta</span>
<span class="w">    </span><span class="py">foo</span><span class="p">:</span><span class="w"> </span><span class="vc">StringShape</span>
}

<span class="c">// Apply the structuredTrait to the string.</span>
<span class="nt">@structuredTrait</span>(
<span class="w">    </span><span class="py">lorem</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;This is a custom trait!&quot;</span>
<span class="w">    </span><span class="py">ipsum</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;lorem and ipsum are both required values.&quot;</span>)
<span class="kd">string </span><span class="nc">StringShape</span>
</pre></div>
</div>
<p class="rubric">Prelude traits</p>
<p>When using the IDL, built-in traits defined in the Smithy
<a class="reference internal" href="#prelude"><span class="std std-ref">prelude</span></a> namespace, <code class="docutils literal notranslate"><span class="pre">smithy.api</span></code>, are automatically
available in every Smithy model and namespace through relative shape IDs.</p>
<p class="rubric">References to traits</p>
<p>The only valid reference to a trait is through applying a trait to a
shape. Members and references within a model MUST NOT target shapes.</p>
<div class="section" id="trait-trait">
<span id="smithy-api-trait-trait"></span><span id="id10"></span><h4><span class="section-number">1.7.2.1. </span><code class="docutils literal notranslate"><span class="pre">trait</span></code> trait<a class="headerlink" href="#trait-trait" title="Permalink to this headline">#</a></h4>
<dl class="docutils">
<dt>Summary</dt><dd>Marks a shape as a <a class="reference internal" href="#traits"><span class="std std-ref">trait</span></a>.</dd>
<dt>Trait selector</dt><dd><p><code class="docutils literal notranslate"><span class="pre">:is(simpleType,</span> <span class="pre">list,</span> <span class="pre">map,</span> <span class="pre">set,</span> <span class="pre">structure,</span> <span class="pre">union)</span></code></p>
<p>This trait can only be applied to simple types, <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">map</span></code>, <code class="docutils literal notranslate"><span class="pre">set</span></code>,
<code class="docutils literal notranslate"><span class="pre">structure</span></code>, and <code class="docutils literal notranslate"><span class="pre">union</span></code> shapes.</p>
</dd>
<dt>Value type</dt><dd><code class="docutils literal notranslate"><span class="pre">structure</span></code></dd>
</dl>
<p class="rubric">Trait properties</p>
<p><code class="docutils literal notranslate"><span class="pre">smithy.api#trait</span></code> is a structure that supports the following members:</p>
<div class="table-wrapper colwidths-given docutils container">
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>selector</td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>A valid <a class="reference internal" href="selectors.html#selectors"><span class="std std-ref">selector</span></a> that defines where the trait
can be applied. For example, a <code class="docutils literal notranslate"><span class="pre">selector</span></code> set to <code class="docutils literal notranslate"><span class="pre">:test(list,</span> <span class="pre">map)</span></code>
means that the trait can be applied to a <a class="reference internal" href="aggregate-types.html#list"><span class="std std-ref">list</span></a> or
<a class="reference internal" href="aggregate-types.html#map"><span class="std std-ref">map</span></a> shape. This value defaults to <code class="docutils literal notranslate"><span class="pre">*</span></code> if not set,
meaning the trait can be applied to any shape.</td>
</tr>
<tr class="row-odd"><td>conflicts</td>
<td>[<code class="docutils literal notranslate"><span class="pre">string</span></code>]</td>
<td>Defines the shape IDs of traits that MUST NOT be applied to the same
shape as the trait being defined. This allows traits to be defined as
mutually exclusive. Provided shape IDs MAY target unknown traits
that are not defined in the model.</td>
</tr>
<tr class="row-even"><td>structurallyExclusive</td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>One of &quot;member&quot; or &quot;target&quot;. When set to &quot;member&quot;, only a single
member of a structure can be marked with the trait. When set to
&quot;target&quot;, only a single member of a structure can target a shape
marked with this trait.</td>
</tr>
<tr class="row-odd"><td>breakingChanges</td>
<td>[<a class="reference internal" href="#trait-breaking-change-rules"><span class="std std-ref">BreakingChangeRule</span></a>]</td>
<td>Defines the backward compatibility rules of the trait.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="annotation-traits">
<span id="annotation-trait"></span><h4><span class="section-number">1.7.2.2. </span>Annotation traits<a class="headerlink" href="#annotation-traits" title="Permalink to this headline">#</a></h4>
<p>A structure trait with no members is called an <em>annotation trait</em>. It's hard
to predict what information a trait needs to capture when modeling a domain;
a trait might start out as a simple annotation, but later might benefit
from additional information. By defining an annotation trait rather than a
boolean trait, the trait can safely add optional members over time as needed.</p>
<p>The following example defines an annotation trait named <code class="docutils literal notranslate"><span class="pre">foo</span></code>:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="nt">@trait</span>
<span class="kd">structure </span><span class="nc">foo</span><span class="w"> </span>{}
</pre></div>
</div>
<p>A member can be safely added to an annotation trait if the member is not
marked as <a class="reference internal" href="type-refinement-traits.html#required-trait"><span class="std std-ref">required</span></a>. The applications of the <code class="docutils literal notranslate"><span class="pre">foo</span></code>
trait in the previous example and the following example are all valid even
after adding a member to the <code class="docutils literal notranslate"><span class="pre">foo</span></code> trait:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.example</span>

<span class="nt">@trait</span>
<span class="kd">structure </span><span class="nc">foo</span><span class="w"> </span>{
<span class="w">    </span><span class="py">baz</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}

<span class="nt">@foo</span>(<span class="py">baz</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bar&quot;</span>)
<span class="kd">string </span><span class="nc">MyString4</span>
</pre></div>
</div>
</div>
<div class="section" id="breaking-change-rules">
<span id="trait-breaking-change-rules"></span><h4><span class="section-number">1.7.2.3. </span>Breaking change rules<a class="headerlink" href="#breaking-change-rules" title="Permalink to this headline">#</a></h4>
<p>Backward compatibility rules of a trait can be defined in the <code class="docutils literal notranslate"><span class="pre">breakingChanges</span></code>
member of a trait definition. This member is a list of diff rules. Smithy
tooling that performs semantic diff analysis between two versions of the same
model can use these rules to detect breaking or risky changes.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Not every kind of breaking change can be described using the
<code class="docutils literal notranslate"><span class="pre">breakingChanges</span></code> property. Such backward compatibility rules SHOULD
instead be described through documentation and ideally enforced through
custom diff tooling.</p>
</div>
<div class="table-wrapper colwidths-given docutils container">
<table border="1" class="colwidths-given docutils align-default">
<colgroup>
<col width="10%" />
<col width="20%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Property</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>change</td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td><p class="first"><strong>Required</strong>. The type of change. This value can be set to one of the
following:</p>
<ul class="last simple">
<li><code class="docutils literal notranslate"><span class="pre">add</span></code>: The trait or value at the given path was added.</li>
<li><code class="docutils literal notranslate"><span class="pre">remove</span></code>: The trait or value at the given path was removed.</li>
<li><code class="docutils literal notranslate"><span class="pre">update</span></code>: The trait or value at the given path was changed.</li>
<li><code class="docutils literal notranslate"><span class="pre">any</span></code>: The trait or value at the given path was added, removed,
or changed.</li>
<li><code class="docutils literal notranslate"><span class="pre">presence</span></code>: The trait or value at the given path was either
added or removed.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>path</td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>A JSON pointer as described in <span class="target" id="index-1"></span><a class="rfc reference external" href="https://tools.ietf.org/html/rfc6901.html"><strong>RFC 6901</strong></a> that points to the values
to compare from the original model to the updated model. If omitted
or if an empty string is provided (<code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>), the entire trait is used
as the value for comparison. The provided pointer MUST correctly
correspond to shapes in the model.</td>
</tr>
<tr class="row-even"><td>severity</td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td><p class="first">Defines the severity of the change. This value can be set to:</p>
<ul class="last simple">
<li><code class="docutils literal notranslate"><span class="pre">ERROR</span></code>: The change is backward incompatible. This is the default
assumed severity.</li>
<li><code class="docutils literal notranslate"><span class="pre">DANGER</span></code>: The change is very likely backward incompatible.</li>
<li><code class="docutils literal notranslate"><span class="pre">WARNING</span></code>: The change might be backward incompatible.</li>
<li><code class="docutils literal notranslate"><span class="pre">NOTE</span></code>: The change is likely ok, but should be noted during
things like code reviews.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>message</td>
<td><code class="docutils literal notranslate"><span class="pre">string</span></code></td>
<td>Provides an optional plain text message that provides information about
why the detected change could be problematic.</td>
</tr>
</tbody>
</table>
</div>
<p>It is a backward incompatible change to add the following trait to an
existing shape:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@trait</span>(<span class="py">breakingChanges</span><span class="p">:</span><span class="w"> </span>[{<span class="py">change</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;add&quot;</span>}])
<span class="kd">structure </span><span class="nc">cannotAdd</span><span class="w"> </span>{}
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The above trait definition is equivalent to the following:</p>
<div class="last highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@trait</span>(
<span class="w">    </span><span class="py">breakingChanges</span><span class="p">:</span><span class="w"> </span>[
<span class="w">        </span>{
<span class="w">            </span><span class="py">change</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;add&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="py">path</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="py">severity</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ERROR&quot;</span>
<span class="w">        </span>}
<span class="w">    </span>]
)
<span class="kd">structure </span><span class="nc">cannotAdd</span><span class="w"> </span>{}
</pre></div>
</div>
</div>
<p>It is a backward incompatible change to add or remove the following trait from
an existing shape:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@trait</span>(<span class="py">breakingChanges</span><span class="p">:</span><span class="w"> </span>[{<span class="py">change</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;presence&quot;</span>}])
<span class="kd">structure </span><span class="nc">cannotToAddOrRemove</span><span class="w"> </span>{}
</pre></div>
</div>
<p>It is very likely backward incompatible to change the &quot;foo&quot; member of the
following trait or to remove the &quot;baz&quot; member:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@trait</span>(
<span class="w">    </span><span class="py">breakingChanges</span><span class="p">:</span><span class="w"> </span>[
<span class="w">        </span>{
<span class="w">            </span><span class="py">change</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;update&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="py">path</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/foo&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="py">severity</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DANGER&quot;</span>
<span class="w">        </span>}<span class="p">,</span>
<span class="w">        </span>{
<span class="w">            </span><span class="py">change</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;remove&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="py">path</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/baz&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="py">severity</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DANGER&quot;</span>
<span class="w">        </span>}
<span class="w">    </span>]
)
<span class="kd">structure </span><span class="nc">fooBaz</span><span class="w"> </span>{
<span class="w">    </span><span class="py">foo</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span><span class="p">,</span>
<span class="w">    </span><span class="py">baz</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}
</pre></div>
</div>
<p>So for example, if the following shape:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@fooBaz</span>(<span class="py">foo</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="w"> </span><span class="py">baz</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b&quot;</span>)
<span class="kd">string </span><span class="nc">Example</span>
</pre></div>
</div>
<p>Is changed to:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@fooBaz</span>(<span class="py">foo</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;b&quot;</span>)
<span class="kd">string </span><span class="nc">Example</span>
</pre></div>
</div>
<p>Then the change to the <code class="docutils literal notranslate"><span class="pre">foo</span></code> member from &quot;a&quot; to &quot;b&quot; is backward
incompatible, as is the removal of the <code class="docutils literal notranslate"><span class="pre">baz</span></code> member.</p>
<p class="rubric">Referring to list members</p>
<p>The JSON pointer can path into the members of a list using a <code class="docutils literal notranslate"><span class="pre">member</span></code>
segment.</p>
<p>In the following example, it is a breaking change to change values of lists
or sets in instances of the <code class="docutils literal notranslate"><span class="pre">names</span></code> trait:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@trait</span>(
<span class="w">    </span><span class="py">breakingChanges</span><span class="p">:</span><span class="w"> </span>[
<span class="w">        </span>{
<span class="w">            </span><span class="py">change</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;update&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="py">path</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/names/member&quot;</span>
<span class="w">        </span>}
<span class="w">    </span>]
)
<span class="kd">structure </span><span class="nc">names</span><span class="w"> </span>{
<span class="w">    </span><span class="py">names</span><span class="p">:</span><span class="w"> </span><span class="vc">NameList</span>
}

<span class="nt">@private</span>
<span class="kd">list </span><span class="nc">NameList</span><span class="w"> </span>{
<span class="w">    </span><span class="py">member</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}
</pre></div>
</div>
<p>So for example, if the following shape:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@names</span>(<span class="py">names</span><span class="p">:</span><span class="w"> </span>[<span class="s2">&quot;Han&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Luke&quot;</span>])
<span class="kd">string </span><span class="nc">Example</span>
</pre></div>
</div>
<p>Is changed to:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@names</span>(<span class="py">names</span><span class="p">:</span><span class="w"> </span>[<span class="s2">&quot;Han&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;Chewy&quot;</span>])
<span class="kd">string </span><span class="nc">Example</span>
</pre></div>
</div>
<p>Then the change to the second value of the <code class="docutils literal notranslate"><span class="pre">names</span></code> member is
backward incompatible because it changed from <code class="docutils literal notranslate"><span class="pre">Luke</span></code> to <code class="docutils literal notranslate"><span class="pre">Chewy</span></code>.</p>
<p class="rubric">Referring to map members</p>
<p>Members of a map shape can be referenced in a JSON pointer using
<code class="docutils literal notranslate"><span class="pre">key</span></code> and <code class="docutils literal notranslate"><span class="pre">value</span></code>.</p>
<p>The following example defines a trait where it is backward incompatible
to remove a key value pair from a map:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@trait</span>(
<span class="w">    </span><span class="py">breakingChanges</span><span class="p">:</span><span class="w"> </span>[
<span class="w">        </span>{
<span class="w">            </span><span class="py">change</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;remove&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="py">path</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/key&quot;</span>
<span class="w">        </span>}
<span class="w">    </span>]
)
<span class="kd">map </span><span class="nc">jobs</span><span class="w"> </span>{
<span class="w">    </span><span class="py">key</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span><span class="p">,</span>
<span class="w">    </span><span class="py">value</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}
</pre></div>
</div>
<p>So for example, if the following shape:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@jobs</span>(<span class="py">Han</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Smuggler&quot;</span><span class="p">,</span><span class="w"> </span><span class="py">Luke</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Jedi&quot;</span>)
<span class="kd">string </span><span class="nc">Example</span>
</pre></div>
</div>
<p>Is changed to:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@jobs</span>(<span class="py">Luke</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Jedi&quot;</span>)
<span class="kd">string </span><span class="nc">Example</span>
</pre></div>
</div>
<p>Then the removal of the &quot;Han&quot; entry of the map is flagged as backward
incompatible.</p>
<p>The following example detects when values of a map change.</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@trait</span>(
<span class="w">    </span><span class="py">breakingChanges</span><span class="p">:</span><span class="w"> </span>[
<span class="w">        </span>{
<span class="w">            </span><span class="py">change</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;update&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="py">path</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;/value&quot;</span>
<span class="w">        </span>}
<span class="w">    </span>]
)
<span class="kd">map </span><span class="nc">jobs</span><span class="w"> </span>{
<span class="w">    </span><span class="py">key</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span><span class="p">,</span>
<span class="w">    </span><span class="py">value</span><span class="p">:</span><span class="w"> </span><span class="vc">String</span>
}
</pre></div>
</div>
<p>So for example, if the following shape:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@jobs</span>(<span class="py">Han</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Smuggler&quot;</span><span class="p">,</span><span class="w"> </span><span class="py">Luke</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Jedi&quot;</span>)
<span class="kd">string </span><span class="nc">Example</span>
</pre></div>
</div>
<p>Is changed to:</p>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="nt">@jobs</span>(<span class="py">Han</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Smuggler&quot;</span><span class="p">,</span><span class="w"> </span><span class="py">Luke</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Ghost&quot;</span>)
<span class="kd">string </span><span class="nc">Example</span>
</pre></div>
</div>
<p>Then the change to Luke's mapping from &quot;Jedi&quot; to &quot;Ghost&quot; is
backward incompatible.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>Using the &quot;update&quot; <code class="docutils literal notranslate"><span class="pre">change</span></code> type with a map key has no effect.</li>
<li>Using any <code class="docutils literal notranslate"><span class="pre">change</span></code> type other than &quot;update&quot; with map values has no
effect.</li>
</ul>
</div>
</div>
</div>
</div>
<div class="section" id="prelude">
<span id="id11"></span><h2><span class="section-number">1.8. </span>Prelude<a class="headerlink" href="#prelude" title="Permalink to this headline">#</a></h2>
<p>All Smithy models automatically include a <em>prelude</em>. The prelude defines
various simple shapes and every trait defined in the core specification.
When using the <a class="reference internal" href="idl.html#idl"><span class="std std-ref">IDL</span></a>, shapes defined in the prelude can be
referenced from within any namespace using a relative shape ID.</p>
<div class="literal-block-wrapper docutils container" id="prelude-shapes">
<div class="code-block-caption"><span class="caption-text">Public prelude shapes</span><a class="headerlink" href="#prelude-shapes" title="Permalink to this code">#</a></div>
<div class="highlight-smithy notranslate"><div class="highlight"><pre><span></span><span class="kd">$version</span><span class="nd">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
<span class="kd">namespace </span><span class="nc">smithy.api</span>

<span class="kd">string </span><span class="nc">String</span>

<span class="kd">blob </span><span class="nc">Blob</span>

<span class="kd">bigInteger </span><span class="nc">BigInteger</span>

<span class="kd">bigDecimal </span><span class="nc">BigDecimal</span>

<span class="kd">timestamp </span><span class="nc">Timestamp</span>

<span class="kd">document </span><span class="nc">Document</span>

<span class="kd">boolean </span><span class="nc">Boolean</span>

<span class="kd">byte </span><span class="nc">Byte</span>

<span class="kd">short </span><span class="nc">Short</span>

<span class="kd">integer </span><span class="nc">Integer</span>

<span class="kd">long </span><span class="nc">Long</span>

<span class="kd">float </span><span class="nc">Float</span>

<span class="kd">double </span><span class="nc">Double</span>

<span class="c">/// The single unit type shape, similar to Void and None in other</span>
<span class="c">/// languages, used to represent no meaningful value.</span>
<span class="nt">@unitType</span>
<span class="kd">structure </span><span class="nc">Unit</span><span class="w"> </span>{}

<span class="nt">@default</span>(<span class="kc">false</span>)
<span class="kd">boolean </span><span class="nc">PrimitiveBoolean</span>

<span class="nt">@default</span>(<span class="m">0</span>)
<span class="kd">byte </span><span class="nc">PrimitiveByte</span>

<span class="nt">@default</span>(<span class="m">0</span>)
<span class="kd">short </span><span class="nc">PrimitiveShort</span>

<span class="nt">@default</span>(<span class="m">0</span>)
<span class="kd">integer </span><span class="nc">PrimitiveInteger</span>

<span class="nt">@default</span>(<span class="m">0</span>)
<span class="kd">long </span><span class="nc">PrimitiveLong</span>

<span class="nt">@default</span>(<span class="m">0</span>)
<span class="kd">float </span><span class="nc">PrimitiveFloat</span>

<span class="nt">@default</span>(<span class="m">0</span>)
<span class="kd">double </span><span class="nc">PrimitiveDouble</span>
</pre></div>
</div>
</div>
<div class="section" id="unit-type">
<span id="id12"></span><h3><span class="section-number">1.8.1. </span>Unit type<a class="headerlink" href="#unit-type" title="Permalink to this headline">#</a></h3>
<p>Smithy provides a singular <a class="reference internal" href="#id12">unit type</a> named <code class="docutils literal notranslate"><span class="pre">smithy.api#Unit</span></code>. The unit
type in Smithy is similar to <code class="docutils literal notranslate"><span class="pre">Void</span></code> and <code class="docutils literal notranslate"><span class="pre">None</span></code> in other languages. It is
used when the input or output of an <a class="reference internal" href="service-types.html#operation"><span class="std std-ref">operation</span></a> has no
meaningful value or if a <a class="reference internal" href="aggregate-types.html#union"><span class="std std-ref">union</span></a> member has no meaningful value.
<code class="docutils literal notranslate"><span class="pre">smithy.api#Unit</span></code> MUST NOT be referenced in any other context.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">smithy.api#Unit</span></code> shape is defined in Smithy's <a class="reference internal" href="#prelude"><span class="std std-ref">prelude</span></a>
as a structure shape marked with the <code class="docutils literal notranslate"><span class="pre">smithy.api#unitType</span></code> trait to
differentiate it from other structures. It is the only such structure in the
model that can be marked with the <code class="docutils literal notranslate"><span class="pre">smithy.api#unitType</span></code> trait.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="aggregate-types.html#union"><span class="std std-ref">Union</span></a>, <a class="reference internal" href="service-types.html#operation"><span class="std std-ref">Operation</span></a></p>
</div>
</div>
</div>
</div>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="simple-types.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title"><span class="section-number">2. </span>Simple types</div>
              </div>
              <svg><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="index.html">
              <svg><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Smithy specification</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2022, Amazon Web Services
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            <div class="icons">
              <a class="muted-link " href="https://github.com/awslabs/smithy" aria-label="GitHub">
                <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
            </a>
              
            </div>
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            Contents
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">1. The Smithy model</a><ul>
<li><a class="reference internal" href="#smithy-overview">1.1. Smithy overview</a></li>
<li><a class="reference internal" href="#the-semantic-model">1.2. The semantic model</a></li>
<li><a class="reference internal" href="#model-metadata">1.3. Model metadata</a></li>
<li><a class="reference internal" href="#node-values">1.4. Node values</a></li>
<li><a class="reference internal" href="#merging-model-files">1.5. Merging model files</a></li>
<li><a class="reference internal" href="#shapes">1.6. Shapes</a><ul>
<li><a class="reference internal" href="#shape-types">1.6.1. Shape types</a></li>
<li><a class="reference internal" href="#member-shapes">1.6.2. Member shapes</a></li>
<li><a class="reference internal" href="#shape-id">1.6.3. Shape ID</a><ul>
<li><a class="reference internal" href="#shape-id-abnf">1.6.3.1. Shape ID ABNF</a></li>
<li><a class="reference internal" href="#shape-id-conflicts">1.6.3.2. Shape ID conflicts</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#traits">1.7. Traits</a><ul>
<li><a class="reference internal" href="#applying-traits">1.7.1. Applying traits</a><ul>
<li><a class="reference internal" href="#applying-traits-externally">1.7.1.1. Applying traits externally</a></li>
<li><a class="reference internal" href="#trait-conflict-resolution">1.7.1.2. Trait conflict resolution</a></li>
<li><a class="reference internal" href="#trait-node-values">1.7.1.3. Trait node values</a></li>
</ul>
</li>
<li><a class="reference internal" href="#defining-traits">1.7.2. Defining traits</a><ul>
<li><a class="reference internal" href="#trait-trait">1.7.2.1. <code class="docutils literal notranslate"><span class="pre">trait</span></code> trait</a></li>
<li><a class="reference internal" href="#annotation-traits">1.7.2.2. Annotation traits</a></li>
<li><a class="reference internal" href="#breaking-change-rules">1.7.2.3. Breaking change rules</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#prelude">1.8. Prelude</a><ul>
<li><a class="reference internal" href="#unit-type">1.8.1. Unit type</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/tabs.js"></script>
    </body>
</html>